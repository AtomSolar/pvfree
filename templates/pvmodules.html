{% extends "base.html" %}

{% block headers %}
<!-- datatables.net with Bootstrap-3 theme -->
<!--https://datatables.net/examples/styling/bootstrap.html-->
<!--https://datatables.net/manual/styling/bootstrap-->
<!-- link rel"stylesheet" href="https://cdn.datatables.net/1.10.5/css/jquery.dataTables.min.css" -->
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/plug-ins/f2c75b7247b/integration/bootstrap/3/dataTables.bootstrap.css">
{% endblock headers %}

{% block content %}
<div class="container">
  <h1 class="page-header">PV Modules</h1>
  {% if pvmod_set %}
  <table id="myTable" class="table table-striped table-bordered">
    <thead>
      <tr>
        <th>Name<br/><br/></th>
        <th>Nameplate<br/><br/></th>
        <th>Vintage<br/><br/></th>
        <th>Area<br/><br/></th>
        <th>Material<br/><br/></th>
        <th>Cells in Series<br/><br/></th>
        <th>Parallel Strings<br/><br/></th>
        <th>fd<br/><br/></th>
        <th>Isc0<br/><br/></th>
        <th>Voc0<br/><br/></th>
        <th>Imp0<br/><br/></th>
        <th>Vmp0<br/><br/></th>
        <th>Ix0<br/><br/></th>
        <th>Ixx0<br/><br/></th>
        <th>C0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>C1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>C2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>C3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>C4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>C5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>C6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>C7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>&alpha;Isc</th>
        <th>&alpha;Imp</th>
        <th>&beta;Voc0</th>
        <th>m&beta;Voc</th>
        <th>&beta;Vmp0</th>
        <th>m&beta;Vmp</th>
        <th>n<br/><br/></th>
        <th>A0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>A1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>A2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>A3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>A4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>B0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>B1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>B2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>B3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>B4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>B5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></th>
        <th>a<br/><br/></th>
        <th>b<br/><br/></th>
        <th>Notes</th>
      </tr>
    </thead>
    <tbody>
      {% for pvmod in pvmod_set %}
      <tr>
        <td>{{ pvmod.name }}</td>
        <td>{{ pvmod.nameplate()|floatformat }}</td>
        <td>{{ pvmod.vintage|date:"Y" }}{% if pvmod.vintage_estimated %}E{% endif %}</td>
        <td>{{ pvmod.area }}</td>
        <td>{{ pvmod.material }}</td>
        <td>{{ pvmod.cells_in_series }}</td>
        <td>{{ pvmod.parallel_strings }}</td>
        <td>{{ pvmod.fd }}</td>
        <td>{{ pvmod.isc0|floatformat }}</td>
        <td>{{ pvmod.voc0|floatformat }}</td>
        <td>{{ pvmod.imp0|floatformat }}</td>
        <td>{{ pvmod.vmp0|floatformat }}</td>
        <td>{{ pvmod.ix0|floatformat }}</td>
        <td>{{ pvmod.ixx0|floatformat }}</td>
        <td>{{ pvmod.c0|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.c1|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.c2|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.c3|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.c4|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.c5|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.c6|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.c7|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.aisc|floatformat }}</td>
        <td>{{ pvmod.aimp|floatformat }}</td>
        <td>{{ pvmod.bvoc0|floatformat }}</td>
        <td>{{ pvmod.mbvoc|floatformat }}</td>
        <td>{{ pvmod.bvmp0|floatformat }}</td>
        <td>{{ pvmod.mbvmp|floatformat }}</td>
        <td>{{ pvmod.n|floatformat }}</td>
        <td>{{ pvmod.a0|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.a1|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.a2|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.a3|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.a4|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.b0|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.b1|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.b2|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.b3|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.b4|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.b5|stringformat:"5.2E" }}</td>
        <td>{{ pvmod.a|floatformat }}</td>
        <td>{{ pvmod.b|floatformat }}</td>
        <td>{{ pvmod.notes }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
     <p>No PV Modules are available.</p>
  {% endif %}
</div>
{% endblock %}

{% block footers %}
<!-- datatables.net -->
<script src="https://cdn.datatables.net/1.10.5/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/plug-ins/f2c75b7247b/integration/bootstrap/3/dataTables.bootstrap.js"></script>
<script>
$(document).ready(function(){
    $('#myTable').DataTable();
});
</script>
{% endblock footers %}
