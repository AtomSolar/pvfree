{% extends "base.html" %}


{% block headscripts %}
<link href='http://alexgorbatchev.com/pub/sh/current/styles/shCore.css' rel='stylesheet' type='text/css'/>
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeEcipse.css" rel="stylesheet" type="text/css" />
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js" type="text/javascript"></script>
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shAutoloader.js" type="text/javascript"></script>
<script src='http://alexgorbatchev.com/pub/sh/current/scripts/shBrushPython.js' type='text/javascript'></script>
<script src='http://alexgorbatchev.com/pub/sh/current/scripts/shBrushXml.js' type='text/javascript'></script>
<script src='http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJava.js' type='text/javascript'></script>
<script src='http://alexgorbatchev.com/pub/sh/current/scripts/shBrushBash.js' type='text/javascript'></script>
<script language='javascript'>
SyntaxHighlighter.all();
</script>
{% endblock headscripts %}

{% block content %}

<!-- Main jumbotron for a primary marketing message or call to action -->
<div style="text-align:center">
  <div class="jumbotron">
    <div class="container">
      <h1>PV Free</h1>
      <p class="lead">A public API for PV modeling parameters.</p>
    </div><!-- /.container -->
  </div>
</div>

<div class="container">
  <h1>Usage</h1>
  <p>Browsing to <a target="_blank" href="http://pvfree.alwaysdata.net/api/pvinverter/?format=json"><code>http://pvfree.alwaysdata.net/api/pvinverter/?format=json</code></a> will display a <a target="_blank" href="http://json.org/">JSON</a> string with the first 20 records. The endpoint and querystring to obtain the next set "<a target="_blank" href="http://pvfree.alwaysdata.net/api/pvinverter/?format=json&limit=20&offset=20"><code>/api/pvinverter/?limit=20&offset=20</code></a>" is contained in the "next" key of the string as are the endpoints for each inverter. <i>Note:</i> the querystring <code>?format=json</code> is only necessary when using the API url directly in a browser to display the response.</p>
  <h2><a target="_blank" href="https://django-tastypie.readthedocs.org/en/latest/">Tastypie</a></h2>
  <p>The API is generated by the Tastypie django extension.</p>
  <ul>
  <li>Get first 20 pvinverters.
  <pre>http://pvfree.alwaysdata.net/api/pvinverter/</pre>
  </li>
  <li>Get first pvinverter.
  <pre>http://pvfree.alwaysdata.net/api/pvinverter/1/</pre>
  </li>
  <li>Get pvinverter set containing #'s 2, 3, 5, and 10.
  <pre>http://pvfree.alwaysdata.net/api/pvinverter/set/2;3;5;10/</pre>
  </li>
  <li>Get 100 pvinverters starting from pvinverter # 500.
  <pre>http://pvfree.alwaysdata.net/api/pvinverter/?limit=100%offset=500</pre>
  </li>
  <li>Get pvinverter database schema.
  <pre>http://pvfree.alwaysdata.net/api/pvinverter/schema/</pre>
  </li>
  </ul>
  <h2><a target="_blank" href="http://docs.python-requests.org/en/latest/">Python Requests</a></h2>
  <p>Use Requests from Python interpreter or in Python code.</p>
  <pre class="brush: python">
  >>> import requests
  >>> response = requests.get('http://pvfree.alwaysdata.net/api/pvinverter/set/1;3;5/')
  >>> response
  <Response [200]>
  >>> response.status_code
  200
  >>> response.content
  {"objects": [{"C0": -2.48104842861e-05, "C1": -9.0149429405099999e-05, "C2": 0.00066889632690700005, "C3": -0.018880466688599998, "Idcmax": 10.0, "MPPT_hi": 50.0, "MPPT_low": 20.0, "Paco": 250.0, "Pdco": 259.52205054799998, "Pnt": 0.02, "Pso": 1.7716142241299999, "Sandia_ID": 1399, "Tamb_low": -40.0, "Tamb_max": 85.0, "Vaco": 208.0, "Vdcmax": 65.0, "Vdco": 40.242603174599999, "id": 1, "manufacturer": "ABB", "name": "MICRO-0.25-I-OUTD-US-208", "numberMPPTChannels": 1, "resource_uri": "/api/pvinverter/1/", "source": "CEC", "vintage": "2014-01-01", "weight": 1.6499999999999999}, ...]}
  </pre>
  <h2><a target="_blank" href="http://curl.haxx.se/">cURL</a></h2>
  <p>Use <code>curl</code> from the command line or libcurl programmatically</p>
  <pre>curl -H "Accept: application/json" http://pvfree.alwaysdata.net/api/pvinverter/
  {"meta": {"limit": 20, "next": "/api/pvinverter/?limit=20&offset=20", "offset": 0, "previous": null, "total_count": 1742}, "objects": [{"C0": -2.48104842861e-05, "C1": -9.0149429405099999e-05, "C2": 0.00066889632690700005, "C3": -0.018880466688599998, "Idcmax": 10.0, "MPPT_hi": 50.0, "MPPT_low": 20.0, "Paco": 250.0, "Pdco": 259.52205054799998, "Pnt": 0.02, "Pso": 1.7716142241299999, "Sandia_ID": 1399, "Tamb_low": -40.0, "Tamb_max": 85.0, "Vaco": 208.0, "Vdcmax": 65.0, "Vdco": 40.242603174599999, "id": 1, "manufacturer": "ABB", "name": "MICRO-0.25-I-OUTD-US-208", "numberMPPTChannels": 1, "resource_uri": "/api/pvinverter/1/", "source": "CEC", "vintage": "2014-01-01", "weight": 1.6499999999999999}, ...]}
  </pre>
  <h2><a target="_blank" href="http://oracle.com/java">Java</a></h2>
  <p>Use <a target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/net/package-summary.html"><code>java.net</code></a> package to connect and use the resource.</p>
  <pre class="brush: java">
  import java.net.*;
  import java.io.*;
  import javax.json.*;
  ...
  URL pvfree = new URL("https://pvfree.alwaysdata.net/api/pvinverter/");  
  URLConnection pvfreeConn = pvfree.openConnection();
  pvfreeConn.addRequestProperty("Accept","application/json");
  BufferedReader in = new BufferedReader(
    new InputStreamReader(pvfreeConn.getInputStream()));
  JsonReader jsonReader = Json.createReader(in);
  JsonObject array = jsonReader.readObject();
  jsonReader.close();
  </pre>
</div>

{% endblock %}
